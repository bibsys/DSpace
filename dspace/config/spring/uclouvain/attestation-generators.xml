<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                  http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
                  http://www.springframework.org/schema/context
                  http://www.springframework.org/schema/context/spring-context-2.5.xsd
                  http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd"
>
    
    <context:annotation-config /> <!-- allows us to use spring annotations in beans -->
    
    <!-- PDF ATTESTATION GENERATORS -->

    <!-- ConfigLoader -->
    <!-- Define here which item types should be handled by which handler in order to generate an attestation -->
    <bean id="pdfAttestationGeneratorConfiguration" class="org.dspace.uclouvain.pdfAttestationGenerator.configuration.PDFAttestationGeneratorConfiguration">
        <property name="handlersConfiguration">
            <util:list>
                <bean class="org.dspace.uclouvain.pdfAttestationGenerator.model.Handler">
                    <property name="itemType" value="MasterThesis"/>
                    <property name="handlerClass">
                        <ref bean="masterThesisPdfAttestationGeneratorHandle"/>
                    </property>
                </bean>
            </util:list>
        </property>
    </bean>
    
    <!-- Factory -->
    <bean id="pdfAttestationGeneratorFactory" class="org.dspace.uclouvain.pdfAttestationGenerator.factory.PDFAttestationGeneratorFactoryImpl"/>
        
    <!-- Handlers that can be used to generate an attestation -->
    <bean id="masterThesisPdfAttestationGeneratorHandle" class="org.dspace.uclouvain.pdfAttestationGenerator.handlers.MasterThesisPdfAttestationGeneratorHandler">
        <property name="templateName" value="master-thesis-template.xsl"/>
    </bean>

    <!-- Attestation Authorization Service -->
    <bean id="attestationAuthorizationService" class="org.dspace.uclouvain.pdfAttestationGenerator.AttestationAuthorizationService"/>
</beans>